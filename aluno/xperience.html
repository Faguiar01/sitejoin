<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xperience InovaPlas - Simulação</title>

    <style>
        body { 
            display: none; 
        }
    </style>
</head>

<body>

    <header>
        <h1>Bem-vindo ao Xperience InovaPlas</h1>
    </header>

    <main>
        <h2>Painel de Simulação</h2>
        <p>Este é o conteúdo protegido que apenas utilizadores logados podem ver.</p>
    </main>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js" type="module"></script>

    <script type="module">
        // --- CONTEÚDO DO 'firebase-init.js' ---
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";

        const firebaseConfig = {
          apiKey: "AIzaSyAXtFYlnq57P0COp-b4TFuYucGlbn4NkAK",
          authDomain: "joinxperience-site.firebaseapp.com",
          projectId: "joinxperience-site",
          storageBucket: "joinxperience-site.appspot.com",
          messagingSenderId: "140037739806",
          appId: "1:140037739806:web:322493d72ca6149abce50f",
          measurementId: "G-V4SRK0FNBN"
        };

        const app = initializeApp(firebaseConfig);

        // --- CONTEÚDO DO 'auth-guard.js' ---
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

        const auth = getAuth();

        onAuthStateChanged(auth, (user) => {
          if (user) {
            console.log("Acesso autorizado. A exibir página.");
            document.body.style.display = 'block';
          } else {
            console.error("Acesso negado. A redirecionar...");
            // LINHA CORRIGIDA: Usando caminho relativo para subir uma pasta
            window.location.href = "../login.html"; 
          }
        });
    </script>

</body>
</html>