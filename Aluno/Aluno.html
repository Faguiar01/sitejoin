<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Aluno - Join Xperience</title>
    <style>
        /* CSS COMPLETO EMBUTIDO */
        :root { --cor-primaria: #0052CC; --cor-secundaria: #FF4400; --cor-texto: #333; --cor-fundo: #f4f7f6; --cor-branco: #fff; --cor-cinza-escuro: #343a40; --cor-cinza-claro: #adb5bd; }
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: var(--cor-fundo); color: var(--cor-texto); line-height: 1.6; display: none; /* A pÃ¡gina comeÃ§a invisÃ­vel */ }
        .container { max-width: 1100px; margin: 0 auto; padding: 20px; }
        header.main-header { background-color: var(--cor-branco); padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        header.main-header .logo-container { display: flex; align-items: center; text-decoration: none; color: var(--cor-texto); }
        header.main-header .logo-container img { height: 50px; margin-right: 10px; }
        .user-info { display: flex; align-items: center; gap: 20px; }
        .user-info span { font-size: 0.9em; color: #555; }
        .btn { display: inline-block; padding: 10px 24px; border-radius: 8px; border: none; text-decoration: none; font-weight: bold; text-align: center; cursor: pointer; }
        #logout-button { background-color: var(--cor-secundaria); color: white; }

        /* Estilos do Painel */
        .welcome-section { background-color: var(--cor-branco); padding: 30px 40px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); margin-bottom: 40px; text-align: center; }
        .welcome-section h2 { font-size: 2.2em; margin: 0 0 10px 0; }
        .welcome-section p { font-size: 1.2em; color: #666; margin: 0; }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
        .dashboard-card { background-color: var(--cor-branco); border-radius: 10px; padding: 30px; text-align: center; text-decoration: none; color: var(--cor-texto); box-shadow: 0 4px 15px rgba(0,0,0,0.08); transition: transform 0.2s ease, box-shadow 0.2s ease; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .dashboard-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.12); }
        .dashboard-card .icon { font-size: 3em; color: var(--cor-primaria); margin-bottom: 15px; }
        .dashboard-card h3 { font-size: 1.4em; margin: 0 0 10px 0; }
        .dashboard-card p { font-size: 0.9em; color: #666; line-height: 1.5; margin: 0; }
    </style>
</head>
<body>
    <header class="main-header">
        <a href="../index.html" class="logo-container">
            <img src="../JOIN.png" alt="Logo Join Xperience">
            <h1>Join Xperience</h1>
        </a>
        <div class="user-info">
            <span id="user-email-display">Carregando...</span>
            <button id="logout-button" class="btn">Sair</button>
        </div>
    </header>

    <main class="container">
        <section class="welcome-section">
            <h2 id="welcome-message">Bem-vindo(a)!</h2>
            <p>Este Ã© o seu painel de controle. Escolha uma opÃ§Ã£o abaixo para comeÃ§ar sua jornada.</p>
        </section>

        <section class="dashboard-grid">
            <a href="../xperience.html" class="dashboard-card">
                <div class="icon">ðŸŒŸ</div>
                <h3>Xperience</h3>
                <p>Descubra seu perfil e explore conteÃºdos selecionados para vocÃª.</p>
            </a>
            <a href="../bussula.html" class="dashboard-card">
                <div class="icon">ðŸ§­</div>
                <h3>BÃºssola</h3>
                <p>Entenda o cenÃ¡rio do jogo, os desafios e o mercado.</p>
            </a>
            <a href="../biblioteca.html" class="dashboard-card">
                <div class="icon">ðŸ“š</div>
                <h3>Biblioteca de Recursos</h3>
                <p>Acesse guias, modelos e vÃ­deos para aprofundar seu conhecimento.</p>
            </a>
            <a href="progresso.html" class="dashboard-card">
                <div class="icon">ðŸš€</div>
                <h3>Meu Progresso</h3>
                <p>Acompanhe sua trilha de atividades e os resultados da sua equipe.</p>
            </a>
            <a href="forum.html" class="dashboard-card">
                <div class="icon">ðŸ’¬</div>
                <h3>FÃ³rum de DiscussÃ£o</h3>
                <p>Troque ideias, tire dÃºvidas e colabore com outros alunos.</p>
            </a>
            <a href="envio_atividades.html" class="dashboard-card">
                <div class="icon">ðŸ“¨</div>
                <h3>Enviar Atividades</h3>
                <p>Acesse esta Ã¡rea para enviar os entregÃ¡veis de cada rodada.</p>
            </a>
        </section>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyAXtFYlnq57POCOp-b4TFuYucGlbn4NkAk",
          authDomain: "joinxperience-site.firebaseapp.com",
          projectId: "joinxperience-site",
          storageBucket: "joinxperience-site.firebasestorage.app",
          messagingSenderId: "140037739806",
          appId: "1:140037739806:web:322493d72ca6149abce50f",
          measurementId: "G-V4SRK0FNBN"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        onAuthStateChanged(auth, async (user) => {
            if (user) {
                document.getElementById('user-email-display').textContent = user.email;
                const userDocRef = doc(db, "usuarios", user.uid);
                const userDoc = await getDoc(userDocRef);
                if (userDoc.exists()) {
                    const userData = userDoc.data();
                    document.getElementById('welcome-message').textContent = `Bem-vindo(a) de volta, ${userData.nome}!`;
                }
                document.body.style.display = 'block';
            } else {
                alert("VocÃª precisa estar logado para acessar esta pÃ¡gina.");
                window.location.href = '../login.html';
            }
        });

        const logoutButton = document.getElementById('logout-button');
        logoutButton.addEventListener('click', () => {
            signOut(auth).then(() => {
                window.location.href = '../index.html';
            });
        });
    </script>
</body>
</html>